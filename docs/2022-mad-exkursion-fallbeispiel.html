<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0, user-scalable=yes">

	<title>Fallbeispiel</title>

	<link rel="stylesheet" href="revealjs/reveal.js/dist/reset.css" />
    <link rel="stylesheet" href="revealjs/reveal.js/dist/reveal.css" />
    <link rel="stylesheet" href="revealjs/reveal.js/dist/theme/white.css" />

    <!-- Theme used for syntax highlighted code -->
	<!-- <link rel="stylesheet" href="revealjs/reveal.js/plugin/highlight/monokai.css"> -->
	<!-- <link rel="stylesheet" href="revealjs/reveal.js/plugin/highlight/zenburn.css"> -->
    <link rel="stylesheet" href="revealjs/highlight-js-github-theme.css" />
    <link rel="stylesheet" href="revealjs/styles.css" />

</head>

<body style="background-color: whitesmoke;">
	<div class="reveal">
		<div class="slides">

<section data-markdown>
	<textarea data-template>

# Exkursion: Unser Fallbeispiel und Datenbasis

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### Unser Beispiel: Vorhersage von Risiken

* Wir sind CTO einer hoch innovativen Kfz-Versicherungsgesellschaft
* Anders als andere Versicherungsgesellschaften bestimmen wir den Tarif anhand der geschätzten Anzahl von Unfällen pro Kunde
* Zielsetzung: Wie viele Unfälle werden die potenziellen Kunden haben?

<img src='img/pixabay/accident-151668_1280.png' style="height: 230px">
</textarea>
</section>

<section data-markdown>
### Features
* Fahrer
  * *training*: 0/1, hat der Fahrer ein Fahrertraining absolviert
  *	*age*: Alter des Fahrers in Jahren
* Fahrzeug  
  *	*emergency_braking*: 0/1, hat das Fahrzeug ein Notbremssystem 
  *	*braking_distance*: Bremsweg aus Tempo 100
  * *power*: Leistung in KW
*	*miles*: Jährliche Fahrleistung in Meilen
* Das wollen wir vorhersagen
  *	*risk*: Unfallrisiko, nach unten und nach oben offen, kann negativ sein
  *	*group* / *group_name*:	Einteilung in Gruppe anhand des Risikos
</section>

<section data-markdown>
  <textarea data-template>
### Pairplot und Lineare Korrelation

<div class="container">
  <div class="col">
    <img src="img/causal-insurance/features.png">
  </div>
  <div class="col">
    <img src="img/causal-insurance/corr.png">
  </div>
</div>

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### Kausales Modell

<img src='img/causal-insurance/insurance-causal-model.png' style="height: 300px;">
</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## Daten entstehen über die Zeit
1. Am Anfang haben wir keine empirischen Daten
1. Wir bewerten Kunden anhand eines einfachen Regelsystems
1. Ground Truth kommt verzögert und kann sich über die Zeit noch verändern
1. Wir sprechen eher von Jahren als Monaten 
</textarea>
</section>


<section data-markdown>
	<textarea data-template>
## Basis-Satz von Regeln

```
if training: 
    return LOW_RISK
if age < 30:
    if power > 130:
        return HIGH_RISK
    else:
        return MEDIUM_RISK
if age > 50:
    return HIGH_RISK
if emergency_braking:
    return LOW_RISK
if miles > 50:
    return HIGH_RISK
if miles > 30:
    return MEDIUM_RISK
# default
return LOW_RISK
```
</textarea>
</section>

<section data-markdown>
	<textarea data-template>
### Rahmenbedindungen

* Wir sind CTO einer Kfz-Versicherung und wollen anhand von Risiko versichern
* Unfalldaten von Fahrern werden regelmäßig erhoben durch Schadensmeldungen
* Das Aufarbeiten von Daten ist ein manueller, aufwändiger und fehleranfälliger Prozess
* Gute Fahrer sollen bessere Konditionen bekommen
  * Alternative: schlechte Fahrer werden gar nicht versichert
* Automatische Vorhersage des Risikos anhand von ausgewählten Kriterien
* Die Vorhersage ist geschäftskritisch
  * Je besser die Genauigkeit des Modells, desto besser funktioniert unser Geschäft
  * Wenn wir schlechte Vorhersagen machen, ist unser Geschäft in Gefahr
</textarea>
</section>

<section data-markdown class="fragments">
	<textarea data-template>
### Wir deployen selten in Production

*wir sehen jedes Deployment als heikel an und bringen nur dann ein neues Modell in Produktion wenn es wirklich notwendig ist*

* jedes Modell hat andere Eigenschaften, an die sich die Benutzer gewöhnen müssen
  * Stabilität des Verhaltens ist wichtig und nicht immer leicht zu gewährleisten
* bei komplexen Vorhersagen reicht häufig eine Metrik nicht für die Bewertung des Modells aus
  * manuelle Tests/Bewertungen der Ergebnisse sind typischerweise vor jedem Deployment notwendig
  * noch deutlicher bei Bildern und Texten
  * wer jetzt aufschreit: viele Systeme mit komplexer UI brauchen ebenfalls manuellen Test
* Alternative: wir arbeiten Daten regelmäßig auf und bringen das Modell ebenso regelmäßig in Produktion 

</textarea>
</section>

<section data-markdown class="fragments">
	<textarea data-template>
### Weitere Entscheidungen, Beschlüsse

* Wir gehen davon aus, dass wir das tatsächliche Risiko eines Versicherten frühestens nach einem Jahr realistisch bewerten können
* Wir erstellen unseren eigenen Datensatz, indem wir ein Jahr lang mit einem Regelsystem und über menschliche Experten versichern
  * Alternative: wir fangen direkt mit einem "besorgten" Datensatz an
* wir erstellen eine Heuristik aus einer Hand voll Regeln für die initiale Phase und als Fallback für unser trainiertes Modell  
* nach einem Jahr haben wir zum ersten Mal einen vollständigen Datensatz  
* danach liegen monatlich neue Daten vor, die allerdings von uns aufgearbeitet werden müssten

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## Daten entstehen über die Zeit

Die Ground Truth (GT) kommt verzögert und kann sich über die Zeit noch verändern

<img src="img/drift-v2.png">

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## Wann ist neues Deployment notwendig?

1. mindestens einmal im Jahr, damit man überhaupt noch weiß wie das geht und sich noch traut
1. wenn die Genauigkeit des Modells abnimmt
   * das kann man aber nicht wissen, außer man hat einen neuen, kompletten Datensatz
   * Ein Datensatz besteht aus zwei Teilen
     * Eingabe: Eigenschaften des versicherten Fahrzeugs und Fahrers
     * Ausgabe: verursachter Schaden
   * und selbst der ist um ein Jahr verzögert
   * stattdessen nehmen wir Ersatzmetriken, den Drift der Eingaben und der Ausgaben  

</textarea>
</section>

<section data-markdown>
	<textarea data-template>
## Was tun bei Drift

<img src="img/was-tun-bei-drift.jpg">

</textarea>
</section>

		</div>
	</div>
	<script src="revealjs/reveal.js/dist/reveal.js"></script>
	<script src="revealjs/reveal.js/plugin/notes/notes.js"></script>
	<script src="revealjs/reveal.js/plugin/markdown/markdown.js"></script>
	<script src="revealjs/reveal.js/plugin/highlight/highlight.js"></script>
	<script src="revealjs/config.js"></script>


</body>

</html>